{"version":3,"sources":["Filter.js","NewPersonForm.js","Persons.js","services/persons.js","Notification.js","App.js","index.js"],"names":["Filter","inputFields","handleInputChange","className","htmlFor","value","search","onChange","name","id","NewPersonForm","addPerson","inputNames","onSubmit","newName","number","newNumber","type","Person","person","deletePerson","onClick","Persons","personsToShow","map","key","baseUrl","personObject","axios","post","then","response","data","get","delete","put","Notification","message","isError","App","useState","persons","setPersons","setInputFields","setMessage","setIsError","useEffect","personService","intialPersons","event","target","filter","toLowerCase","includes","preventDefault","personToUpdate","samePerson","find","window","confirm","updatedPerson","updatedPersons","setTimeout","catch","error","newPerson","returnedPerson","concat","personToDelete","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.f9a1c915.chunk.js","sourcesContent":["import React from 'react';\n\nconst Filter = ({ inputFields, handleInputChange }) => {\n  return (\n    <form className=\"filter\">\n      <div>\n        <label htmlFor=\"search\">Filter person by name:{' '}</label>\n        <input\n          value={inputFields.search}\n          onChange={handleInputChange}\n          name=\"search\"\n          id=\"search\"\n        />\n      </div>\n    </form>\n  );\n};\n\nexport default Filter;\n","import React from 'react';\n\nconst NewPersonForm = ({\n  addPerson,\n  handleInputChange,\n  inputFields,\n  inputNames,\n}) => {\n  return (\n    <div className=\"add-contact-form\">\n      <h2>Add a new contact</h2>\n      <form onSubmit={addPerson}>\n        <div>\n          <label htmlFor={inputNames.name}>Name: </label>\n          <input\n            onChange={handleInputChange}\n            value={inputFields.newName}\n            name={inputNames.name}\n            id={inputNames.name}\n          />\n        </div>\n        <div>\n          <label htmlFor={inputNames.number}>Number: </label>\n          <input\n            onChange={handleInputChange}\n            value={inputFields.newNumber}\n            name={inputNames.number}\n            id={inputNames.number}\n          />\n        </div>\n        <div>\n          <button type=\"submit\">Add</button>\n        </div>\n      </form>\n    </div>\n  );\n};\n\nexport default NewPersonForm;\n","import React from 'react';\n\nconst Person = ({ person, deletePerson }) => {\n  return (\n    <li>\n      <span>{person.name}</span>\n      <span>{person.number}</span>\n      <button className=\"delete-button\" onClick={() => deletePerson(person)}>\n        Delete\n      </button>\n    </li>\n  );\n};\n\nconst Persons = ({ personsToShow, deletePerson }) => {\n  return (\n    <div className=\"persons-list\">\n      <h2>Contacts</h2>\n      <ul>\n        {personsToShow.map((person) => (\n          <Person\n            key={person.name}\n            person={person}\n            deletePerson={deletePerson}\n          />\n        ))}\n      </ul>\n    </div>\n  );\n};\n\nexport default Persons;\n","import axios from 'axios';\n\nconst baseUrl = '/api/persons';\n\nconst createPerson = (personObject) => {\n  const request = axios.post(baseUrl, personObject);\n  return request.then((response) => response.data);\n};\n\nconst getAllPerson = () => {\n  const request = axios.get(baseUrl);\n  return request.then((response) => response.data);\n};\n\nconst deletePerson = (id) => {\n  const request = axios.delete(`${baseUrl}/${id}`);\n  return request.then((response) => response.data);\n};\n\nconst updatePerson = (personObject) => {\n  const request = axios.put(`${baseUrl}/${personObject.id}`, personObject);\n  return request.then((response) => response.data);\n};\n\nexport default { createPerson, getAllPerson, deletePerson, updatePerson };\n","import React from 'react';\n\nconst Notification = ({ message, isError }) => {\n  if (message === null) {\n    return null;\n  }\n\n  return <div className={isError ? 'error' : 'success'}>{message}</div>;\n};\n\nexport default Notification;\n","import React, { useState, useEffect } from 'react';\nimport Filter from './Filter';\nimport NewPersonForm from './NewPersonForm';\nimport Persons from './Persons';\nimport personService from './services/persons';\nimport Notification from './Notification';\n\nconst App = () => {\n  const [persons, setPersons] = useState([]);\n  const [inputFields, setInputFields] = useState({\n    newName: '',\n    newNumber: '',\n    search: '',\n  });\n  const [message, setMessage] = useState(null);\n  const [isError, setIsError] = useState(false);\n\n  useEffect(() => {\n    personService\n      .getAllPerson()\n      .then((intialPersons) => setPersons(intialPersons));\n  }, []);\n\n  const handleInputChange = (event) => {\n    setInputFields({\n      ...inputFields,\n      // Input names is passed down as props to lower components\n      [event.target.name]: event.target.value,\n    });\n  };\n\n  const updatePerson = (personToUpdate) => {\n    const confirmation = window.confirm(\n      `${personToUpdate.name} is already in the phonebook. Replace the old number with the new one?`\n    );\n\n    if (confirmation) {\n      personService\n        .updatePerson({\n          ...personToUpdate,\n          number: inputFields.newNumber,\n        })\n        .then((updatedPerson) => {\n          const updatedPersons = persons.map((person) =>\n            person.id === updatedPerson.id ? updatedPerson : person\n          );\n\n          setPersons(updatedPersons);\n          setInputFields({\n            ...inputFields,\n            newName: '',\n            newNumber: '',\n          });\n\n          setMessage(`${updatedPerson.name}'s number updated`);\n\n          setTimeout(() => {\n            setMessage(null);\n          }, 5000);\n        })\n        .catch((error) => {\n          setIsError(true);\n          setMessage(`${error.response.data.error}`);\n\n          setTimeout(() => {\n            setIsError(false);\n            setMessage(null);\n          }, 5000);\n        });\n\n      return;\n    }\n  };\n\n  const addPerson = (event) => {\n    event.preventDefault();\n\n    const samePerson = persons.find(\n      (person) => person.name === inputFields.newName\n    );\n\n    if (samePerson) {\n      return updatePerson(samePerson);\n    }\n\n    const newPerson = {\n      name: inputFields.newName,\n      number: inputFields.newNumber,\n    };\n\n    personService\n      .createPerson(newPerson)\n      .then((returnedPerson) => {\n        setPersons(persons.concat(returnedPerson));\n        setInputFields({\n          ...inputFields,\n          newName: '',\n          newNumber: '',\n        });\n        setMessage(`Added ${returnedPerson.name}`);\n      })\n      .catch((error) => {\n        setIsError(true);\n        setMessage(`${error.response.data.error}`);\n        setTimeout(() => {\n          setIsError(false);\n          setMessage(null);\n        }, 5000);\n      });\n  };\n\n  const deletePerson = (personToDelete) => {\n    const confirmation = window.confirm(\n      `Are you sure you want to delete ${personToDelete.name}?`\n    );\n\n    if (confirmation) {\n      personService\n        .deletePerson(personToDelete.id)\n        .then(() => {\n          const updatedPersons = persons.filter(\n            (person) => person.id !== personToDelete.id\n          );\n\n          setPersons(updatedPersons);\n          setMessage(`${personToDelete.name}'s information is deleted`);\n          setTimeout(() => {\n            setIsError(false);\n            setMessage(null);\n          }, 5000);\n        })\n        .catch((error) => {\n          setIsError(true);\n          setMessage(`${error.response.data.error}`);\n          setTimeout(() => {\n            setIsError(false);\n            setMessage(null);\n          }, 5000);\n        });\n    }\n  };\n\n  const personsToShow =\n    inputFields.search === ''\n      ? persons\n      : persons.filter((person) => {\n          return person.name\n            .toLowerCase()\n            .includes(inputFields.search.toLowerCase());\n        });\n\n  return (\n    <main className=\"phonebook-container\">\n      <h1>PhoneBook</h1>\n      <Notification message={message} isError={isError} />\n      <Filter inputFields={inputFields} handleInputChange={handleInputChange} />\n      <NewPersonForm\n        inputFields={inputFields}\n        handleInputChange={handleInputChange}\n        addPerson={addPerson}\n        // Input names are the keys in the inputFields state\n        inputNames={{ name: 'newName', number: 'newNumber' }}\n      />\n      <Persons personsToShow={personsToShow} deletePerson={deletePerson} />\n    </main>\n  );\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}